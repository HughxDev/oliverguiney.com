<link rel="import" href="../../bower_components/polymer/polymer.html" />
<link rel="import" href="../shared-styles/shared-styles.html" />
<link rel="import" href="../og-rebirth/og-rebirth.html" />
<link rel="import" href="../og-think-vertically/og-think-vertically.html" />
<link rel="import" href="../og-wrathful-deity/og-wrathful-deity.html" />
<link rel="import" href="../og-promised-land/og-promised-land.html" />
<link rel="import" href="../og-new-york-state-of-mind/og-new-york-state-of-mind.html" />
<link rel="import" href="../og-sledge-hammer/og-sledge-hammer.html" />
<link rel="import" href="../og-shark/og-shark.html" />
<link rel="import" href="../og-rocky-pass/og-rocky-pass.html" />
<link rel="import" href="../og-bonfire-of-the-vanities/og-bonfire-of-the-vanities.html" />
<link rel="import" href="../og-kill-school/og-kill-school.html" />
<link rel="import" href="../og-malafaxis-outbreak/og-malafaxis-outbreak.html" />

<dom-module id="og-portfolio">
  <template>
    <style include="shared-styles">
      :host {
        display: block;
        margin-left: auto;
        margin-right: auto;
      }

      .__instructions {
        text-align: center;
        margin: 4rem auto;
        font-size: 1.75rem;
      }
    </style>
    <h2 class="visuallyhidden">Work</h2>
    <p class="__instructions">Select a piece to view process details.</p>

    <og-kill-school></og-kill-school>
    <og-malafaxis-outbreak></og-malafaxis-outbreak>
    <og-bonfire-of-the-vanities></og-bonfire-of-the-vanities>
    <og-rebirth></og-rebirth>
    <og-rocky-pass></og-rocky-pass>
    <og-think-vertically></og-think-vertically>
    <og-wrathful-deity></og-wrathful-deity>
    <og-promised-land></og-promised-land>
    <og-new-york-state-of-mind></og-new-york-state-of-mind>
    <og-sledge-hammer></og-sledge-hammer>
    <og-shark></og-shark>
  </template>

  <script>
    Polymer({

      is: 'og-portfolio',

      hostAttributes: {
        role: 'article',
        id: 'work'
      },

      properties: {
        _widths: {
          type: Array,
          value: []
        }
      },

      // created: function ogPortfolioCreated() {},

      // ready: function ogPortfolioReady() {},

      attached: function ogPortfolioAttached() {
        var root = Polymer.dom( this.root )
        var pieces = root.querySelectorAll( 'og-portfolio__piece' );
        var i = pieces.length - 1;

        for ( ; i >= 0; i-- ) {
          if ( 'x' in pieces[i] ) {
            this._widths.push( pieces[i].x );
          }
        }

        this._widths.sort(function(a, b) {
          return a - b;
        });

        this.style.maxWidth = this._widths[0] + 'px';
      }
    });
  </script>
</dom-module>
